<div class="row container-fluid" ng-controller="imageCtrl">
	<form name="input">
		<div class="col-sm-2">
			<a ng-click="isMobile ? showMobilePhotoView() : showNavPhotoView()" class="btn btn-lg btn-primary"><span style="float : left; margin : 5px; font-size : 40px;" class="glyphicon glyphicon-camera"></span></a>
		</div>
		<div class="col-sm-10">
			<div class="row">
				<div class="col-sm-6" ng-if='webcamOn' ng-hide="hideStream">
					<div class="alert alert-danger" ng-show="cameraAccessRefused" role="alert">Vous avez refusé l'accès à la caméra</div>
					<div class="alert alert-info" ng-hide="shotable || cameraAccessRefused" role="alert"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Veuillez accepter l'accès à la webcam</div>
					<webcam on-stream="onStream(stream)"
					on-error="onError(err)"
					on-streaming="onSuccess()"
					video="your.video"></webcam>
					<button type="button" class="btn btn-info" ng-click="takeSnapshot()" ng-disabled="!shotable">Prendre une photo <span class="glyphicon glyphicon-camera"></span></button>
				</div>
				<div class="col-sm-6" class="text-center" ng-show="hideStream">
					<canvas id='canvas'></canvas>
					<div class="btn-group" role="group" aria-label="...">
						<button type="button" class="btn btn-default" ng-click="showNavPhotoView()">
							<span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Prendre un autre cliché
						</button>
						<button type="button" class="btn btn-info pull" ng-disabled="input.$invalid" ng-click="send(dataUrl)">
							<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Envoyer
						</button>
					</div>
				</div>

			</div>
		</div>
		
		<div id="PJ">

			<!--<div id="PJ_navigator">
				<span ng-if="!isMobile">
					<b id="label_PJ_navigator">Pièce jointe : </b>
					<canvas id='canvas' width="30" height="30"></canvas><br />
					<input type="button" value="Envoyer" class="btn btn-info" ng-disabled="input.$invalid" ng-click="send()"></input>
				</span>
			</div>-->
			
			<div id="PJ_mobile">
				<span ng-if="isMobile">
					<b id="label_PJ_mobile">Pièce jointe : </b>
					<img style="display:none; width:30px; height:30px; float:left;" id="smallImage" src="" /><br />
					<input type="button" value="Envoyer" class="btn btn-info" ng-disabled="input.$invalid" ng-click="send()"></input>
				</span>
			</div>
			
			<label style="color:red" ng-if="error">Echec de l'envoi</label>
			
		</div>

	</form>
</div>